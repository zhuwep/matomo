(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("CoreHome"),require("vue"),require("CorePluginsAdmin")):"function"===typeof define&&define.amd?define(["CoreHome",,"CorePluginsAdmin"],t):"object"===typeof exports?exports["Marketplace"]=t(require("CoreHome"),require("vue"),require("CorePluginsAdmin")):e["Marketplace"]=t(e["CoreHome"],e["Vue"],e["CorePluginsAdmin"])})("undefined"!==typeof self?self:this,(function(e,t,n){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var l=t[a]={i:a,l:!1,exports:{}};return e[a].call(l.exports,l,l.exports,n),l.l=!0,l.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(a,l,function(t){return e[t]}.bind(null,l));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="plugins/Marketplace/vue/dist/",n(n.s="fae3")}({"19dc":function(t,n){t.exports=e},"8bbf":function(e,n){e.exports=t},a5a2:function(e,t){e.exports=n},fae3:function(e,t,n){"use strict";if(n.r(t),n.d(t,"Marketplace",(function(){return Ge})),n.d(t,"LicenseKey",(function(){return ft})),n.d(t,"ManageLicenseKey",(function(){return Pt})),n.d(t,"GetNewPlugins",(function(){return Rt})),n.d(t,"GetNewPluginsAdmin",(function(){return ln})),n.d(t,"GetPremiumFeatures",(function(){return yn})),n.d(t,"MissingReqsNotice",(function(){return Nn})),n.d(t,"OverviewIntro",(function(){return Cn})),n.d(t,"SubscriptionOverview",(function(){return la})),n.d(t,"RichMenuButton",(function(){return pa})),n.d(t,"PluginList",(function(){return Re})),"undefined"!==typeof window){var a=window.document.currentScript,l=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);l&&(n.p=l[1])}var i=n("8bbf"),o={class:"row marketplaceActions",ref:"root"},r={class:"col s12 m6 l4"},c={class:"col s12 m6 l4"},s={key:0,class:"col s12 m12 l4 "},u={class:"plugin-search"},d=Object(i["createElementVNode"])("span",{class:"icon-search"},null,-1),p=["alt"];function m(e,t,n,a,l,m){var b,O=this,g=Object(i["resolveComponent"])("Field"),j=Object(i["resolveComponent"])("PluginList"),v=Object(i["resolveComponent"])("ContentBlock");return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createElementVNode"])("div",o,[Object(i["createElementVNode"])("div",r,[Object(i["createVNode"])(g,{uicontrol:"select",name:"plugin_type","model-value":e.pluginTypeFilter,"onUpdate:modelValue":e.updateType,title:e.translate("Marketplace_Show"),"full-width":!0,options:e.pluginTypeOptions},null,8,["model-value","onUpdate:modelValue","title","options"])]),Object(i["createElementVNode"])("div",c,[Object(i["createVNode"])(g,{uicontrol:"select",name:"plugin_sort","model-value":e.pluginSort,"onUpdate:modelValue":e.updateSort,title:e.translate("Marketplace_Sort"),"full-width":!0,options:e.pluginSortOptions},null,8,["model-value","onUpdate:modelValue","title","options"])]),(null===(b=e.pluginsToShow)||void 0===b?void 0:b.length)>20||e.searchQuery?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",s,[Object(i["createElementVNode"])("div",u,[Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(g,{uicontrol:"text",name:"query",title:e.queryInputTitle,"full-width":!0,"model-value":e.searchQuery,"onUpdate:modelValue":e.updateQuery},null,8,["title","model-value","onUpdate:modelValue"])]),d])])):Object(i["createCommentVNode"])("",!0)],512),!e.loading&&e.pluginsToShow.length>0?(Object(i["openBlock"])(),Object(i["createBlock"])(j,{key:0,"plugins-to-show":e.pluginsToShow,"is-auto-update-possible":e.isAutoUpdatePossible,"is-super-user":e.isSuperUser,"is-multi-server-environment":e.isMultiServerEnvironment,"is-plugins-admin-enabled":e.isPluginsAdminEnabled,"is-valid-consumer":e.isValidConsumer,"deactivate-nonce":e.deactivateNonce,"activate-nonce":e.activateNonce,"install-nonce":e.installNonce,"update-nonce":e.updateNonce,onTriggerUpdate:t[0]||(t[0]=function(e){return O.fetchPlugins()})},null,8,["plugins-to-show","is-auto-update-possible","is-super-user","is-multi-server-environment","is-plugins-admin-enabled","is-valid-consumer","deactivate-nonce","activate-nonce","install-nonce","update-nonce"])):Object(i["createCommentVNode"])("",!0),e.loading||0!=e.pluginsToShow.length?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createBlock"])(v,{key:1},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate(e.showThemes?"Marketplace_NoThemesFound":"Marketplace_NoPluginsFound")),1)]})),_:1})),e.loading?(Object(i["openBlock"])(),Object(i["createBlock"])(v,{key:2},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("img",{src:"plugins/Morpheus/images/loading-blue.gif",alt:e.translate("General_LoadingData")},null,8,p),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.loadingMessage),1)]})),_:1})):Object(i["createCommentVNode"])("",!0)],64)}var b=n("19dc"),O=n("a5a2"),g={key:0,class:"pluginListContainer row"},j={class:"card"},v={class:"card-content"},k=["src"],y={class:"content-container"},h={class:"card-content-top"},f={key:0,class:"matomo-badge matomo-badge-top",src:"plugins/Marketplace/images/matomo-badge.png","aria-label":"Matomo plugin",alt:""},N={class:"price"},V={class:"card-title-link",href:"#",tabindex:"7"},B=Object(i["createElementVNode"])("div",{class:"card-focus"},null,-1),E={class:"card-title"},S=Object(i["createElementVNode"])("span",{class:"card-title-chevron"}," ›",-1),M={class:"card-description"},T={class:"card-content-bottom"},P={key:0,class:"downloads"},w={class:"cta-container"},C={key:1,class:"matomo-badge matomo-badge-bottom",src:"plugins/Marketplace/images/matomo-badge.png","aria-label":"Matomo plugin",alt:""};function L(e,t,n,a,l,o){var r=this,c=Object(i["resolveComponent"])("StartFreeTrial"),s=Object(i["resolveComponent"])("CTAContainer"),u=Object(i["resolveDirective"])("plugin-name");return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createVNode"])(c,{"is-valid-consumer":e.isValidConsumer,modelValue:e.showStartFreeTrialForPlugin,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.showStartFreeTrialForPlugin=t}),onTrialStarted:t[1]||(t[1]=function(e){return r.$emit("triggerUpdate")})},null,8,["is-valid-consumer","modelValue"]),e.pluginsToShow.length>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",g,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.pluginsToShow,(function(n){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"col s12 m6 l4",key:n.name},[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])("card-holder ".concat(n.numDownloads>0?"card-with-downloads":"")),onClick:t[2]||(t[2]=function(){return e.clickCard&&e.clickCard.apply(e,arguments)})},[Object(i["createElementVNode"])("div",j,[Object(i["createElementVNode"])("div",v,[Object(i["createElementVNode"])("img",{src:"".concat(n.coverImage,"?w=880&h=480"),alt:"",class:"cover-image"},null,8,k),Object(i["createElementVNode"])("div",y,[Object(i["createElementVNode"])("div",h,["piwik"==n.owner||"matomo-org"==n.owner?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",f)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",N,[n.priceFrom?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate("Marketplace_PriceFromPerPeriod",n.priceFrom.prettyPrice,n.priceFrom.period)),1)],64)):n.isFree?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate("Marketplace_Free")),1)],64)):Object(i["createCommentVNode"])("",!0)]),Object(i["withDirectives"])(Object(i["createElementVNode"])("a",V,[B,Object(i["createElementVNode"])("h2",E,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(n.displayName),1),S])],512),[[u,{pluginName:n.name}]]),Object(i["createElementVNode"])("div",M,Object(i["toDisplayString"])(n.description),1)]),Object(i["createElementVNode"])("div",T,[n.numDownloads>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",P,Object(i["toDisplayString"])(n.numDownloadsPretty)+" "+Object(i["toDisplayString"])(e.translate("General_Downloads").toLowerCase()),1)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",w,[Object(i["createVNode"])(s,{"is-super-user":e.isSuperUser,"is-plugins-admin-enabled":e.isPluginsAdminEnabled,"is-multi-server-environment":e.isMultiServerEnvironment,"is-valid-consumer":e.isValidConsumer,"is-auto-update-possible":e.isAutoUpdatePossible,"activate-nonce":e.activateNonce,"deactivate-nonce":e.deactivateNonce,"install-nonce":e.installNonce,"update-nonce":e.updateNonce,plugin:n,onStartFreeTrial:function(t){return e.showStartFreeTrialForPlugin=n.name}},null,8,["is-super-user","is-plugins-admin-enabled","is-multi-server-environment","is-valid-consumer","is-auto-update-possible","activate-nonce","deactivate-nonce","install-nonce","update-nonce","plugin","onStartFreeTrial"])]),"piwik"==n.owner||"matomo-org"==n.owner?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",C)):Object(i["createCommentVNode"])("",!0)])])])])],2)])})),128))])):Object(i["createCommentVNode"])("",!0)],64)}var U={key:0,class:"alert alert-danger alert-no-background"},_={style:{"white-space":"nowrap"}},x=Object(i["createTextVNode"])("("),D=Object(i["createTextVNode"])(")"),A={key:1,class:"alert alert-danger alert-no-background"},q={style:{"white-space":"nowrap"}},F=Object(i["createTextVNode"])("("),K=Object(i["createTextVNode"])(")"),I=["href"],R={key:1,class:"alert alert-warning alert-no-background"},H={style:{"white-space":"nowrap"}},$=Object(i["createTextVNode"])("("),G=Object(i["createTextVNode"])(")"),z={key:3,class:"alert alert-success alert-no-background"},Q=Object(i["createTextVNode"])(" ("),W=Object(i["createTextVNode"])(") "),J=Object(i["createTextVNode"])(" ("),Y=["href"],X=Object(i["createTextVNode"])(" - "),Z=["href"],ee=Object(i["createTextVNode"])(") "),te=["title"],ne={key:6,class:"alert alert-warning alert-no-background"},ae={style:{"white-space":"nowrap"}},le=Object(i["createTextVNode"])("("),ie=Object(i["createTextVNode"])(")"),oe=["href"];function re(e,t,n,a,l,o){var r=this,c=Object(i["resolveComponent"])("HelpLink"),s=Object(i["resolveComponent"])("DownloadButton"),u=Object(i["resolveComponent"])("MoreDetailsButton");return e.isSuperUser?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[e.plugin.isMissingLicense?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",U,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate("Marketplace_LicenseMissing"))+" ",1),Object(i["createElementVNode"])("span",_,[x,Object(i["createVNode"])(c,{"plugin-name":e.plugin.name},null,8,["plugin-name"]),D])])):e.plugin.hasExceededLicense?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",A,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate("Marketplace_LicenseExceeded"))+" ",1),Object(i["createElementVNode"])("span",q,[F,Object(i["createVNode"])(c,{"plugin-name":e.plugin.name},null,8,["plugin-name"]),K])])):e.plugin.canBeUpdated&&0==e.plugin.missingRequirements.length?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},[e.isAutoUpdatePossible?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:0,tabindex:"7",class:"btn btn-block",href:e.linkToUpdate(e.plugin.name)},Object(i["toDisplayString"])(e.translate("CoreUpdater_UpdateTitle")),9,I)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",R,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate("Marketplace_CannotUpdate"))+" ",1),Object(i["createElementVNode"])("span",H,[$,Object(i["createVNode"])(c,{"plugin-name":e.plugin.name},null,8,["plugin-name"]),Object(i["createVNode"])(s,{plugin:e.plugin,"show-or":!0,"is-auto-update-possible":e.isAutoUpdatePossible},null,8,["plugin","is-auto-update-possible"]),G])]))],64)):e.plugin.isInstalled?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",z,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate("General_Installed"))+" ",1),e.plugin.missingRequirements.length>0||!e.isAutoUpdatePossible?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Q,Object(i["createVNode"])(s,{plugin:e.plugin,"show-or":!1,"is-auto-update-possible":e.isAutoUpdatePossible},null,8,["plugin","is-auto-update-possible"]),W],64)):e.plugin.isInvalid||e.isMultiServerEnvironment||!e.isPluginsAdminEnabled?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[J,e.plugin.isActivated?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:0,tabindex:"7",href:e.linkToDeactivate(e.plugin.name)},Object(i["toDisplayString"])(e.translate("CorePluginsAdmin_Deactivate")),9,Y)):e.plugin.missingRequirements.length>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[X],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:2,tabindex:"7",href:e.linkToActivate(e.plugin.name)},Object(i["toDisplayString"])(e.translate("CorePluginsAdmin_Activate")),9,Z)),ee],64))])):e.plugin.isEligibleForFreeTrial?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:4,tabindex:"7",class:"btn btn-block purchaseable",href:"",onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(e){r.$emit("startFreeTrial")}),["prevent"])),title:e.translate("Marketplace_StartFreeTrial")},Object(i["toDisplayString"])(e.translate("Marketplace_StartFreeTrial")),9,te)):e.plugin.isDownloadable||!(e.plugin.isPaid||e.plugin.missingRequirements.length>0)&&e.isAutoUpdatePossible?e.plugin.missingRequirements.length>0||!e.isAutoUpdatePossible?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ne,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate("Marketplace_CannotInstall"))+" ",1),Object(i["createElementVNode"])("span",ae,[le,Object(i["createVNode"])(c,{"plugin-name":e.plugin.name},null,8,["plugin-name"]),Object(i["createVNode"])(s,{plugin:e.plugin,"show-or":!0,"is-auto-update-possible":e.isAutoUpdatePossible},null,8,["plugin","is-auto-update-possible"]),ie])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:7,tabindex:"7",href:e.linkToInstall(e.plugin.name),class:"btn btn-block"},Object(i["toDisplayString"])(e.translate("Marketplace_ActionInstall")),9,oe)):(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:5,"plugin-name":e.plugin.name},null,8,["plugin-name"]))],64)):(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:1,"plugin-name":e.plugin.name},null,8,["plugin-name"]))}var ce={key:0,onclick:"$(this).css('display', 'none')"},se=["href"];function ue(e,t,n,a,l,o){return 0===e.plugin.missingRequirements.length&&e.plugin.isDownloadable&&!e.isAutoUpdatePossible?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ce,[e.showOr?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.translate("General_Or"))+" ",1)],64)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("a",{tabindex:"7",class:"plugin-details download",href:e.linkTo({module:"Marketplace",action:"download",pluginName:e.plugin.name,nonce:e.plugin.downloadNonce})},Object(i["toDisplayString"])(e.translate("General_Download")),9,se)])):Object(i["createCommentVNode"])("",!0)}var de=Object(i["defineComponent"])({props:{plugin:{type:Object,required:!0},showOr:{type:Boolean,default:!1},isAutoUpdatePossible:{type:Boolean,required:!0}},methods:{linkTo:function(e){return"?".concat(b["MatomoUrl"].stringify(Object.assign(Object.assign({},b["MatomoUrl"].urlParsed.value),e)))}}});de.render=ue;var pe=de,me=["title"];function be(e,t,n,a,l,o){var r=Object(i["resolveDirective"])("plugin-name");return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{tabindex:"7",class:"plugin-details",href:"#",title:e.translate("General_MoreDetails")},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate("General_Help")),1)],8,me)),[[r,{pluginName:e.pluginName}]])}var Oe=Object(i["defineComponent"])({props:{pluginName:{type:String,required:!0}},directives:{PluginName:O["PluginName"]}});Oe.render=be;var ge=Oe,je=["title"];function ve(e,t,n,a,l,o){var r=Object(i["resolveDirective"])("plugin-name");return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{tabindex:"7",class:"btn btn-block",href:"#",title:e.translate("General_MoreDetails")},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate("General_MoreDetails")),1)],8,je)),[[r,{pluginName:e.pluginName}]])}var ke=Object(i["defineComponent"])({props:{pluginName:{type:String,required:!0}},directives:{PluginName:O["PluginName"]}});ke.render=ve;var ye=ke,he=Object(i["defineComponent"])({props:{plugin:{type:Object,required:!0},activateNonce:{type:String,required:!0},deactivateNonce:{type:String,required:!0},installNonce:{type:String,required:!0},updateNonce:{type:String,required:!0},isAutoUpdatePossible:{type:Boolean,required:!0},isValidConsumer:{type:Boolean,required:!0},isMultiServerEnvironment:{type:Boolean,required:!0},isPluginsAdminEnabled:{type:Boolean,required:!0},isSuperUser:{type:Boolean,required:!0}},emits:["startFreeTrial"],components:{DownloadButton:pe,HelpLink:ge,MoreDetailsButton:ye},directives:{PluginName:O["PluginName"]},methods:{linkToActivate:function(e){return this.linkTo({module:"CorePluginsAdmin",action:"activate",redirectTo:"referrer",nonce:this.activateNonce,pluginName:e})},linkToDeactivate:function(e){return this.linkTo({module:"CorePluginsAdmin",action:"deactivate",redirectTo:"referrer",nonce:this.deactivateNonce,pluginName:e})},linkToInstall:function(e){return this.linkTo({module:"Marketplace",action:"installPlugin",nonce:this.installNonce,pluginName:e})},linkToUpdate:function(e){return this.linkTo({module:"Marketplace",action:"updatePlugin",nonce:this.updateNonce,pluginName:e})},linkTo:function(e){return"?".concat(b["MatomoUrl"].stringify(Object.assign(Object.assign({},b["MatomoUrl"].urlParsed.value),e)))}}});he.render=re;var fe=he,Ne={class:"modal",id:"trialRequiresLicense"},Ve=Object(i["createElementVNode"])("p",{class:"btn-close modal-close"},[Object(i["createElementVNode"])("i",{class:"icon-close"})],-1),Be={class:"modal-content"},Ee={class:"modal-text"},Se=Object(i["createElementVNode"])("h2",null,"Start your free trial today",-1),Me=Object(i["createTextVNode"])("To unlock the full potential of our premium plugins, "),Te=["href"],Pe=Object(i["createTextVNode"])("."),we=Object(i["createElementVNode"])("strong",null,"Don't have a license key yet?",-1),Ce=Object(i["createTextVNode"])(" Visit our "),Le=["href"],Ue=Object(i["createTextVNode"])(", create an account and start a free trial to get your license key. Once you have a license key, you will be able to start any free trials from here.");function _e(e,t,n,a,l,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ne,[Ve,Object(i["createElementVNode"])("div",Be,[Object(i["createElementVNode"])("div",Ee,[Se,Object(i["createElementVNode"])("p",null,[Me,Object(i["createElementVNode"])("a",{href:e.linkTo({module:"Marketplace",action:"manageLicenseKey"})},"add your license key",8,Te),Pe]),Object(i["createElementVNode"])("p",null,[we,Ce,Object(i["createElementVNode"])("a",{href:e.externalRawLink("https://shop.matomo.org/my-account/"),rel:"noopener noreferrer",target:"_blank"},"online marketplace",8,Le),Ue])])])])}var xe=window,De=xe.$,Ae=Object(i["defineComponent"])({props:{modelValue:{type:String,required:!0},isValidConsumer:Boolean},emits:["update:modelValue","trialStarted"],watch:{modelValue:function(e){e&&(this.isValidConsumer?this.startFreeTrial():this.showLicenseDialog())}},methods:{linkTo:function(e){return"?".concat(b["MatomoUrl"].stringify(Object.assign(Object.assign({},b["MatomoUrl"].urlParsed.value),e)))},startFreeTrial:function(){var e=this,t=this.modelValue;window.Piwik_Popover.showLoading(""),b["AjaxHelper"].post({module:"API",method:"Marketplace.startFreeTrial"},{pluginName:t}).then((function(){window.Piwik_Popover.close();var n=b["NotificationsStore"].show({message:Object(b["translate"])("CorePluginsAdmin_PluginFreeTrialStarted","<strong>","</strong>",t),context:"success",id:"startTrialSuccess",type:"transient"});b["NotificationsStore"].scrollToNotification(n),e.$emit("trialStarted")})).catch((function(e){window.Piwik_Popover.showError("",e.message)})).finally((function(){return e.$emit("update:modelValue","")}))},showLicenseDialog:function(){var e=this;De("#trialRequiresLicense").modal({dismissible:!0,onCloseEnd:function(){e.$emit("update:modelValue","")}}).modal("open")}}});Ae.render=_e;var qe=Ae,Fe=window,Ke=Fe.$,Ie=Object(i["defineComponent"])({props:{pluginsToShow:{type:Array,required:!0},isAutoUpdatePossible:{type:Boolean,required:!0},isSuperUser:{type:Boolean,required:!0},isValidConsumer:{type:Boolean,required:!0},isMultiServerEnvironment:{type:Boolean,required:!0},isPluginsAdminEnabled:{type:Boolean,required:!0},activateNonce:{type:String,required:!0},deactivateNonce:{type:String,required:!0},installNonce:{type:String,required:!0},updateNonce:{type:String,required:!0}},data:function(){return{showStartFreeTrialForPlugin:""}},components:{CTAContainer:fe,StartFreeTrial:qe},directives:{PluginName:O["PluginName"]},emits:["triggerUpdate"],watch:{pluginsToShow:function(e,t){e&&e!==t&&this.shrinkDescriptionIfMultilineTitle()}},mounted:function(){var e=this;Ke(window).resize((function(){e.shrinkDescriptionIfMultilineTitle()}))},methods:{shrinkDescriptionIfMultilineTitle:function(){var e=Ke(".marketplace .card-holder");e&&e.length&&e.each((function(e,t){var n=Ke(t),a=n.find(".card-title"),l=n.find(".card-content-bottom .alert"),i=n.hasClass("card-with-downloads"),o=1;if(a.length){var r,c=+a.height(),s=+a.css("line-height").replace("px","");if(s)o=null!==(r=Math.ceil(c/s))&&void 0!==r?r:1}var u=0;if(l.length){var d,p=+l.height(),m=+l.css("line-height").replace("px","");if(m)u=null!==(d=Math.ceil(p/m))&&void 0!==d?d:1}var b=n.find(".card-description");if(b.length){var O=b[0],g=0;i?((o>=2||u>2||o+u>=4)&&(g=2),o+u>=5&&(g=1)):o+u>=5&&(g=2),g?O.setAttribute("data-clamp","".concat(g)):O.removeAttribute("data-clamp")}}))},clickCard:function(e){if(!Ke(e.target).closest("a").length){var t=Ke(e.target).closest(".card-holder").find("a.card-title-link").get(0);t&&(e.stopPropagation(),t.dispatchEvent(new Event("click",{bubbles:!1})))}}}});Ie.render=L;var Re=Ie,He=function(e){return"".concat(e[0].toLowerCase()).concat(e.substring(1))},$e=Object(i["defineComponent"])({props:{pluginTypeOptions:{type:Object,required:!0},defaultSort:{type:String,required:!0},pluginSortOptions:{type:Object,required:!0},numAvailablePluginsByType:{type:Object,required:!0},isValidConsumer:Boolean,isSuperUser:Boolean,isAutoUpdatePossible:Boolean,isPluginsAdminEnabled:Boolean,isMultiServerEnvironment:Boolean,installNonce:{type:String,required:!0},activateNonce:{type:String,required:!0},deactivateNonce:{type:String,required:!0},updateNonce:{type:String,required:!0}},components:{ContentBlock:b["ContentBlock"],PluginList:Re,Field:O["Field"]},data:function(){return{loading:!1,fetchRequest:null,fetchRequestAbortController:null,pluginSort:this.defaultSort,pluginTypeFilter:"plugins",searchQuery:"",pluginsToShow:[]}},mounted:function(){var e=this;b["Matomo"].postEvent("Marketplace.Marketplace.mounted",{element:this.$refs.root}),Object(i["watch"])((function(){return b["MatomoUrl"].hashParsed.value}),(function(){e.updateValuesFromHash(!1)})),this.updateValuesFromHash(!0)},unmounted:function(){b["Matomo"].postEvent("Marketplace.Marketplace.unmounted",{element:this.$refs.root})},methods:{updateValuesFromHash:function(e){var t=e,n=b["MatomoUrl"].hashParsed.value.query||"",a=b["MatomoUrl"].hashParsed.value.sort||"",l=b["MatomoUrl"].hashParsed.value.pluginType||"";(n||this.searchQuery)&&(t=t||n!==this.searchQuery,this.searchQuery=n),a&&(t=t||a!==this.pluginSort,this.pluginSort=a),l&&(t=t||l!==this.pluginTypeFilter,this.pluginTypeFilter=l),t&&this.fetchPlugins()},updateQuery:function(e){b["MatomoUrl"].updateHash(Object.assign(Object.assign({},b["MatomoUrl"].hashParsed.value),{},{query:e}))},updateType:function(e){b["MatomoUrl"].updateHash(Object.assign(Object.assign({},b["MatomoUrl"].hashParsed.value),{},{pluginType:e}))},updateSort:function(e){b["MatomoUrl"].updateHash(Object.assign(Object.assign({},b["MatomoUrl"].hashParsed.value),{},{sort:e}))},fetchPlugins:function(){var e=this;this.loading=!0,this.pluginsToShow=[],this.fetchRequestAbortController&&(this.fetchRequestAbortController.abort(),this.fetchRequestAbortController=null),this.fetchRequestAbortController=new AbortController,this.fetchRequest=b["AjaxHelper"].post({module:"Marketplace",action:"searchPlugins",format:"JSON"},{query:this.searchQuery,sort:this.pluginSort,themesOnly:this.showThemes,purchaseType:"premium"===this.pluginTypeFilter?"paid":""},{withTokenInUrl:!0,abortController:this.fetchRequestAbortController}).then((function(t){e.pluginsToShow=t})).finally((function(){e.loading=!1,e.fetchRequestAbortController=null}))}},computed:{queryInputTitle:function(){var e=He(Object(b["translate"])("General_Plugins")),t=this.numAvailablePluginsByType[this.pluginTypeFilter]||0;return"".concat(Object(b["translate"])("General_Search")," ").concat(t," ").concat(e,"...")},loadingMessage:function(){return Object(b["translate"])("Mobile_LoadingReport",Object(b["translate"])(this.showThemes?"CorePluginsAdmin_Themes":"General_Plugins"))},showThemes:function(){return"themes"===this.pluginTypeFilter}}});$e.render=m;var Ge=$e,ze={class:"marketplace-max-width"},Qe={class:"marketplace-paid-intro"},We={key:0},Je={key:0},Ye=Object(i["createElementVNode"])("br",null,null,-1),Xe={class:"licenseToolbar valign-wrapper"},Ze=["href"],et={key:0},tt={class:"ui-confirm",id:"installAllPaidPluginsAtOnce",ref:"installAllPaidPluginsAtOnce"},nt=Object(i["createElementVNode"])("br",null,null,-1),at=Object(i["createElementVNode"])("br",null,null,-1),lt=["data-href","value"],it=["value"],ot={key:1},rt={key:0},ct=["innerHTML"],st=Object(i["createElementVNode"])("br",null,null,-1),ut={class:"licenseToolbar valign-wrapper"},dt={key:1},pt=["innerHTML"],mt={class:"ui-confirm",id:"confirmRemoveLicense",ref:"confirmRemoveLicense"},bt=["value"],Ot=["value"];function gt(e,t,n,a,l,o){var r=Object(i["resolveComponent"])("DefaultLicenseKeyFields"),c=Object(i["resolveComponent"])("SaveButton"),s=Object(i["resolveComponent"])("ActivityIndicator");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ze,[Object(i["createElementVNode"])("div",Qe,[e.isValidConsumer?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",We,[e.isSuperUser?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Je,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate("Marketplace_PaidPluginsWithLicenseKeyIntro",""))+" ",1),Ye,Object(i["createElementVNode"])("div",Xe,[Object(i["createVNode"])(r,{"model-value":e.licenseKey,"onUpdate:modelValue":t[0]||(t[0]=function(t){e.licenseKey=t,e.updatedLicenseKey()}),onConfirm:t[1]||(t[1]=function(t){return e.updateLicense()}),"has-license-key":e.hasLicenseKey,"is-valid-consumer":e.isValidConsumer,"enable-update":e.enableUpdate},null,8,["model-value","has-license-key","is-valid-consumer","enable-update"]),Object(i["createVNode"])(c,{class:"valign",id:"remove_license_key",onConfirm:t[2]||(t[2]=function(t){return e.removeLicense()}),value:e.translate("Marketplace_RemoveLicenseKey")},null,8,["value"]),Object(i["createElementVNode"])("a",{class:"btn valign",href:e.subscriptionOverviewLink},Object(i["toDisplayString"])(e.translate("Marketplace_ViewSubscriptions")),9,Ze),e.showInstallAllPaidPlugins?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",et,[Object(i["createElementVNode"])("a",{href:"",class:"btn installAllPaidPlugins valign",onClick:t[3]||(t[3]=Object(i["withModifiers"])((function(t){return e.onInstallAllPaidPlugins()}),["prevent"]))},Object(i["toDisplayString"])(e.translate("Marketplace_InstallPurchasedPlugins")),1),Object(i["createElementVNode"])("div",tt,[Object(i["createElementVNode"])("h2",null,Object(i["toDisplayString"])(e.translate("Marketplace_InstallAllPurchasedPlugins")),1),Object(i["createElementVNode"])("p",null,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate("Marketplace_InstallThesePlugins"))+" ",1),nt,at]),Object(i["createElementVNode"])("ul",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.paidPluginsToInstallAtOnce,(function(e){return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{key:e},Object(i["toDisplayString"])(e),1)})),128))]),Object(i["createElementVNode"])("p",null,[Object(i["createElementVNode"])("input",{role:"install",type:"button","data-href":e.installAllPaidPluginsLink,value:e.translate("Marketplace_InstallAllPurchasedPluginsAction",e.paidPluginsToInstallAtOnce.length)},null,8,lt),Object(i["createElementVNode"])("input",{role:"cancel",type:"button",value:e.translate("General_Cancel")},null,8,it)])],512)])):Object(i["createCommentVNode"])("",!0)]),Object(i["createVNode"])(s,{loading:e.isUpdating},null,8,["loading"])])):Object(i["createCommentVNode"])("",!0)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ot,[e.isSuperUser?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",rt,[Object(i["createElementVNode"])("span",{innerHTML:e.$sanitize(e.noLicenseKeyIntroText)},null,8,ct),st,Object(i["createElementVNode"])("div",ut,[Object(i["createVNode"])(r,{"model-value":e.licenseKey,"onUpdate:modelValue":t[4]||(t[4]=function(t){e.licenseKey=t,e.updatedLicenseKey()}),onConfirm:t[5]||(t[5]=function(t){return e.updateLicense()}),"has-license-key":e.hasLicenseKey,"is-valid-consumer":e.isValidConsumer,"enable-update":e.enableUpdate},null,8,["model-value","has-license-key","is-valid-consumer","enable-update"])]),Object(i["createVNode"])(s,{loading:e.isUpdating},null,8,["loading"])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",dt,[Object(i["createElementVNode"])("span",{innerHTML:e.$sanitize(e.noLicenseKeyIntroNoSuperUserAccessText)},null,8,pt)]))]))]),Object(i["createElementVNode"])("div",mt,[Object(i["createElementVNode"])("h2",null,Object(i["toDisplayString"])(e.translate("Marketplace_ConfirmRemoveLicense")),1),Object(i["createElementVNode"])("input",{role:"yes",type:"button",value:e.translate("General_Yes")},null,8,bt),Object(i["createElementVNode"])("input",{role:"no",type:"button",value:e.translate("General_No")},null,8,Ot)],512)])}var jt={class:"valign licenseKeyText"};function vt(e,t,n,a,l,o){var r=Object(i["resolveComponent"])("Field"),c=Object(i["resolveComponent"])("SaveButton");return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createElementVNode"])("div",jt,[Object(i["createVNode"])(r,{uicontrol:"text",name:"license_key","full-width":!0,"model-value":e.modelValue,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t)}),placeholder:e.licenseKeyPlaceholder},null,8,["model-value","placeholder"])]),Object(i["createVNode"])(c,{class:"valign",onConfirm:t[1]||(t[1]=function(t){return e.$emit("confirm")}),disabled:!e.enableUpdate,value:e.saveButtonText,id:"submit_license_key"},null,8,["disabled","value"])],64)}var kt=Object(i["defineComponent"])({props:{modelValue:String,isValidConsumer:Boolean,hasLicenseKey:Boolean,enableUpdate:Boolean},emits:["update:modelValue","confirm"],components:{Field:O["Field"],SaveButton:O["SaveButton"]},computed:{licenseKeyPlaceholder:function(){return this.isValidConsumer?Object(b["translate"])("Marketplace_LicenseKeyIsValidShort"):Object(b["translate"])("Marketplace_LicenseKey")},saveButtonText:function(){return this.hasLicenseKey?Object(b["translate"])("CoreUpdater_UpdateTitle"):Object(b["translate"])("Marketplace_ActivateLicenseKey")}}});kt.render=vt;var yt=kt,ht=Object(i["defineComponent"])({props:{isValidConsumer:Boolean,isSuperUser:Boolean,isAutoUpdatePossible:Boolean,isPluginsAdminEnabled:Boolean,hasLicenseKey:Boolean,paidPluginsToInstallAtOnce:{type:Array,required:!0},installNonce:{type:String,required:!0}},components:{SaveButton:O["SaveButton"],ActivityIndicator:b["ActivityIndicator"],DefaultLicenseKeyFields:yt},data:function(){return{licenseKey:"",enableUpdate:!1,isUpdating:!1}},methods:{onInstallAllPaidPlugins:function(){b["Matomo"].helper.modalConfirm(this.$refs.installAllPaidPluginsAtOnce)},updateLicenseKey:function(e,t,n){var a=this;b["AjaxHelper"].post({module:"API",method:"Marketplace.".concat(e),format:"JSON"},{licenseKey:this.licenseKey},{withTokenInUrl:!0}).then((function(e){a.isUpdating=!1,e&&e.value&&(b["NotificationsStore"].show({message:n,context:"success",type:"transient"}),b["Matomo"].helper.redirect())}),(function(){a.isUpdating=!1}))},removeLicense:function(){var e=this;b["Matomo"].helper.modalConfirm(this.$refs.confirmRemoveLicense,{yes:function(){e.enableUpdate=!1,e.isUpdating=!0,e.updateLicenseKey("deleteLicenseKey","",Object(b["translate"])("Marketplace_LicenseKeyDeletedSuccess"))}})},updatedLicenseKey:function(){this.enableUpdate=!!this.licenseKey},updateLicense:function(){this.enableUpdate=!1,this.isUpdating=!0,this.updateLicenseKey("saveLicenseKey",this.licenseKey,Object(b["translate"])("Marketplace_LicenseKeyActivatedSuccess"))}},computed:{subscriptionOverviewLink:function(){return"?".concat(b["MatomoUrl"].stringify(Object.assign(Object.assign({},b["MatomoUrl"].urlParsed.value),{},{module:"Marketplace",action:"subscriptionOverview"})))},noLicenseKeyIntroText:function(){return Object(b["translate"])("Marketplace_PaidPluginsNoLicenseKeyIntro",Object(b["externalLink"])("https://matomo.org/recommends/premium-plugins/"),"</a>")},noLicenseKeyIntroNoSuperUserAccessText:function(){return Object(b["translate"])("Marketplace_PaidPluginsNoLicenseKeyIntroNoSuperUserAccess",Object(b["externalLink"])("https://matomo.org/recommends/premium-plugins/"),"</a>")},installAllPaidPluginsLink:function(){return"?".concat(b["MatomoUrl"].stringify(Object.assign(Object.assign({},b["MatomoUrl"].urlParsed.value),{},{module:"Marketplace",action:"installAllPaidPlugins",nonce:this.installNonce})))},showInstallAllPaidPlugins:function(){return this.isAutoUpdatePossible&&this.isPluginsAdminEnabled&&this.paidPluginsToInstallAtOnce.length}}});ht.render=gt;var ft=ht,Nt=["innerHTML"],Vt={class:"manage-license-key-input"},Bt={class:"ui-confirm",id:"confirmRemoveLicense",ref:"confirmRemoveLicense"},Et=["value"],St=["value"];function Mt(e,t,n,a,l,o){var r=Object(i["resolveComponent"])("Field"),c=Object(i["resolveComponent"])("SaveButton"),s=Object(i["resolveComponent"])("ActivityIndicator"),u=Object(i["resolveComponent"])("ContentBlock");return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createVNode"])(u,{"content-title":e.translate("Marketplace_LicenseKey"),class:"manage-license-key"},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",{class:"manage-license-key-intro",innerHTML:e.$sanitize(e.manageLicenseKeyIntro)},null,8,Nt),Object(i["createElementVNode"])("div",Vt,[Object(i["createVNode"])(r,{uicontrol:"text",name:"license_key",modelValue:e.licenseKey,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.licenseKey=t}),placeholder:e.licenseKeyPlaceholder,"full-width":!0},null,8,["modelValue","placeholder"])]),Object(i["createVNode"])(c,{onConfirm:t[1]||(t[1]=function(t){return e.updateLicense()}),value:e.saveButtonText,disabled:!e.licenseKey||e.isUpdating,id:"submit_license_key"},null,8,["value","disabled"]),e.hasValidLicense?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:0,id:"remove_license_key",onConfirm:t[2]||(t[2]=function(t){return e.removeLicense()}),disabled:e.isUpdating,value:e.translate("General_Remove")},null,8,["disabled","value"])):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(s,{loading:e.isUpdating},null,8,["loading"])]})),_:1},8,["content-title"]),Object(i["createElementVNode"])("div",Bt,[Object(i["createElementVNode"])("h2",null,Object(i["toDisplayString"])(e.translate("Marketplace_ConfirmRemoveLicense")),1),Object(i["createElementVNode"])("input",{role:"yes",type:"button",value:e.translate("General_Yes")},null,8,Et),Object(i["createElementVNode"])("input",{role:"no",type:"button",value:e.translate("General_No")},null,8,St)],512)],64)}var Tt=Object(i["defineComponent"])({props:{hasValidLicenseKey:Boolean},components:{Field:O["Field"],ContentBlock:b["ContentBlock"],SaveButton:O["SaveButton"],ActivityIndicator:b["ActivityIndicator"]},data:function(){return{licenseKey:"",hasValidLicense:this.hasValidLicenseKey,isUpdating:!1}},methods:{updateLicenseKey:function(e,t,n){var a=this;b["NotificationsStore"].remove("ManageLicenseKeySuccess"),b["AjaxHelper"].post({module:"API",method:"Marketplace.".concat(e),format:"JSON"},{licenseKey:this.licenseKey},{withTokenInUrl:!0}).then((function(t){a.isUpdating=!1,t&&t.value&&(b["NotificationsStore"].show({id:"ManageLicenseKeySuccess",message:n,context:"success",type:"toast"}),a.hasValidLicense="deleteLicenseKey"!==e,a.licenseKey="")}),(function(){a.isUpdating=!1}))},removeLicense:function(){var e=this;b["Matomo"].helper.modalConfirm(this.$refs.confirmRemoveLicense,{yes:function(){e.isUpdating=!0,e.updateLicenseKey("deleteLicenseKey","",Object(b["translate"])("Marketplace_LicenseKeyDeletedSuccess"))}})},updateLicense:function(){this.isUpdating=!0,this.updateLicenseKey("saveLicenseKey",this.licenseKey,Object(b["translate"])("Marketplace_LicenseKeyActivatedSuccess"))}},computed:{manageLicenseKeyIntro:function(){var e="?".concat(b["MatomoUrl"].stringify(Object.assign(Object.assign({},b["MatomoUrl"].urlParsed.value),{},{module:"Marketplace",action:"overview"})));return Object(b["translate"])("Marketplace_ManageLicenseKeyIntro",'<a href="'.concat(e,'">'),"</a>",Object(b["externalLink"])("https://shop.matomo.org/my-account"),"</a>")},licenseKeyPlaceholder:function(){return this.hasValidLicense?Object(b["translate"])("Marketplace_LicenseKeyIsValidShort"):Object(b["translate"])("Marketplace_LicenseKey")},saveButtonText:function(){return this.hasValidLicense?Object(b["translate"])("CoreUpdater_UpdateTitle"):Object(b["translate"])("Marketplace_ActivateLicenseKey")}}});Tt.render=Mt;var Pt=Tt,wt={class:"getNewPlugins"},Ct={class:"row"},Lt={class:"pluginName"},Ut=Object(i["createElementVNode"])("br",null,null,-1),_t={key:0},xt=Object(i["createElementVNode"])("br",null,null,-1),Dt=Object(i["createElementVNode"])("br",null,null,-1),At=[xt,Dt],qt={class:"widgetBody"},Ft=["href"];function Kt(e,t,n,a,l,o){var r=Object(i["resolveDirective"])("plugin-name");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",wt,[Object(i["createElementVNode"])("div",Ct,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.plugins,(function(t,n){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"col s12",key:t.name},[Object(i["withDirectives"])(Object(i["createElementVNode"])("h3",Lt,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t.displayName),1)],512),[[r,{pluginName:t.name}]]),Object(i["createElementVNode"])("span",null,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t.description)+" ",1),Ut,Object(i["withDirectives"])(Object(i["createElementVNode"])("a",null,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate("General_MoreDetails")),1)],512),[[r,{pluginName:t.name}]])]),n<e.plugins.length-1?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",_t,At)):Object(i["createCommentVNode"])("",!0)])})),128))]),Object(i["createElementVNode"])("div",qt,[Object(i["createElementVNode"])("a",{href:e.overviewLink},Object(i["toDisplayString"])(e.translate("CorePluginsAdmin_ViewAllMarketplacePlugins")),9,Ft)])])}var It=Object(i["defineComponent"])({props:{plugins:{type:Array,required:!0}},directives:{PluginName:O["PluginName"]},computed:{overviewLink:function(){return"?".concat(b["MatomoUrl"].stringify(Object.assign(Object.assign({},b["MatomoUrl"].urlParsed.value),{},{module:"Marketplace",action:"overview"})))}}});It.render=Kt;var Rt=It,Ht={class:"getNewPlugins isAdminPage",ref:"root"},$t={class:"row"},Gt=["title"],zt=["title"],Qt={key:0},Wt=Object(i["createElementVNode"])("br",null,null,-1),Jt=["src"],Yt={class:"widgetBody"},Xt=["href"];function Zt(e,t,n,a,l,o){var r=Object(i["resolveDirective"])("plugin-name");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ht,[Object(i["createElementVNode"])("div",$t,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.plugins,(function(e){var t;return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"col s12 m4",key:e.name},[Object(i["withDirectives"])(Object(i["createElementVNode"])("h3",{class:"pluginName",title:e.description},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.displayName),1)],8,Gt),[[r,{pluginName:e.name}]]),Object(i["createElementVNode"])("p",{class:"description",title:e.description},Object(i["toDisplayString"])(e.description),9,zt),null!==(t=e.screenshots)&&void 0!==t&&t.length?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Qt,[Wt,Object(i["withDirectives"])(Object(i["createElementVNode"])("img",{class:"screenshot",src:"".concat(e.screenshots[0],"?w=600"),style:{width:"100%"},alt:""},null,8,Jt),[[r,{pluginName:e.name}]])])):Object(i["createCommentVNode"])("",!0)])})),128))]),Object(i["createElementVNode"])("div",Yt,[Object(i["createElementVNode"])("a",{href:e.marketplaceOverviewLink},Object(i["toDisplayString"])(e.translate("CorePluginsAdmin_ViewAllMarketplacePlugins")),9,Xt)])],512)}var en=window,tn=en.$;function nn(e){tn(".col .description",e).dotdotdot({watch:"window"})}var an=Object(i["defineComponent"])({props:{plugins:{type:Array,required:!0}},directives:{PluginName:O["PluginName"]},mounted:function(){nn(this.$refs.root)},updated:function(){nn(this.$refs.root)},computed:{marketplaceOverviewLink:function(){return"?".concat(b["MatomoUrl"].stringify({module:"Marketplace",action:"overview"}))}}});an.render=Zt;var ln=an,on={class:"getNewPlugins getPremiumFeatures widgetBody"},rn={key:0,class:"col s12 m12"},cn=["innerHTML"],sn={style:{"margin-bottom":"28px",color:"#5bb75b"}},un=Object(i["createElementVNode"])("i",{class:"icon-heart red-text"},null,-1),dn={class:"pluginName"},pn={key:0,class:"pluginSubtitle"},mn={class:"pluginBody"},bn=Object(i["createElementVNode"])("br",null,null,-1),On={class:"pluginMoreDetails"},gn={class:"widgetBody"},jn=["href"];function vn(e,t,n,a,l,o){var r=Object(i["resolveDirective"])("plugin-name");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",on,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.pluginRows,(function(t,n){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"row",key:n},[0===n?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",rn,[Object(i["createElementVNode"])("h3",{style:{"font-weight":"bold",color:"#5bb75b"},innerHTML:e.$sanitize(e.trialHintsText)},null,8,cn),Object(i["createElementVNode"])("h3",sn,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate("Marketplace_SupportMatomoThankYou"))+" ",1),un])])):Object(i["createCommentVNode"])("",!0),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t,(function(t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"col s12 m4",key:t.name},[Object(i["withDirectives"])(Object(i["createElementVNode"])("h3",dn,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t.displayName),1)],512),[[r,{pluginName:t.name}]]),t.specialOffer?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",pn,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.translate("Marketplace_SpecialOffer"))+":",1),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(t.specialOffer),1)])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("span",mn,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t.isBundle?"".concat(e.translate("Marketplace_SpecialOffer"),": "):"")+Object(i["toDisplayString"])(t.description)+" ",1),bn,Object(i["withDirectives"])(Object(i["createElementVNode"])("a",On,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate("General_MoreDetails")),1)],512),[[r,{pluginName:t.name}]])])])})),128))])})),128)),Object(i["createElementVNode"])("div",gn,[Object(i["createElementVNode"])("a",{href:e.overviewLink},Object(i["toDisplayString"])(e.translate("CorePluginsAdmin_ViewAllMarketplacePlugins")),9,jn)])])}var kn=Object(i["defineComponent"])({props:{plugins:{type:Array,required:!0}},directives:{PluginName:O["PluginName"]},computed:{trialHintsText:function(){var e=Object(b["externalRawLink"])("https://shop.matomo.org/free-trial/"),t="color:#5bb75b;text-decoration: underline;";return Object(b["translate"])("Marketplace_TrialHints",'<a style="'.concat(t,'" href="').concat(e,'" target="_blank" rel="noreferrer noopener">'),"</a>")},pluginRows:function(){var e=[];return this.plugins.forEach((function(t,n){var a=Math.floor(n/3);e[a]=e[a]||[],e[a].push(t)})),e},overviewLink:function(){var e=b["MatomoUrl"].stringify({module:"Marketplace",action:"overview"}),t=b["MatomoUrl"].stringify({pluginType:"premium"});return"?".concat(e,"#?").concat(t)}}});kn.render=vn;var yn=kn;function hn(e,t,n,a,l,o){return Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.plugin.missingRequirements||[],(function(t,n){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:n,class:"alert alert-danger"},Object(i["toDisplayString"])(e.translate("CorePluginsAdmin_MissingRequirementsNotice",e.requirement(t.requirement),t.actualVersion,t.requiredVersion)),1)})),128)}var fn=Object(i["defineComponent"])({props:{plugin:{type:Object,required:!0}},methods:{requirement:function(e){return"php"===e?"PHP":"".concat(e[0].toUpperCase()).concat(e.substr(1))}}});fn.render=hn;var Nn=fn,Vn={key:0},Bn={key:1},En=["innerHTML"],Sn={key:2},Mn=["innerHTML"],Tn=["innerHTML"];function Pn(e,t,n,a,l,o){var r=Object(i["resolveComponent"])("EnrichedHeadline"),c=Object(i["resolveComponent"])("LicenseKey"),s=Object(i["resolveComponent"])("UploadPluginDialog"),u=Object(i["resolveComponent"])("Marketplace"),d=Object(i["resolveDirective"])("content-intro");return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[Object(i["createElementVNode"])("h2",null,[Object(i["createVNode"])(r,{"feature-name":e.translate("CorePluginsAdmin_Marketplace")},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate("Marketplace_Marketplace")),1)]})),_:1},8,["feature-name"])]),Object(i["createElementVNode"])("p",null,[e.isSuperUser?e.showThemes?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Bn,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate("CorePluginsAdmin_ThemesDescription"))+" ",1),Object(i["createElementVNode"])("span",{innerHTML:e.$sanitize(e.installingNewThemeText)},null,8,En)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Sn,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate("CorePluginsAdmin_PluginsExtendPiwik"))+" ",1),Object(i["createElementVNode"])("span",{innerHTML:e.$sanitize(e.installingNewPluginText)},null,8,Mn)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Vn,Object(i["toDisplayString"])(e.restrictedMessage),1)),e.isSuperUser&&e.inReportingMenu?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:3,ref:"noticeRemoveMarketplaceFromMenu",innerHTML:e.$sanitize(e.noticeRemoveMarketplaceFromMenuText)},null,8,Tn)):Object(i["createCommentVNode"])("",!0)]),Object(i["createVNode"])(c,{"is-valid-consumer":e.isValidConsumer,"is-super-user":e.isSuperUser,"is-auto-update-possible":e.isAutoUpdatePossible,"is-plugins-admin-enabled":e.isPluginsAdminEnabled,"has-license-key":e.hasLicenseKey,"paid-plugins-to-install-at-once":e.paidPluginsToInstallAtOnce,"install-nonce":e.installNonce},null,8,["is-valid-consumer","is-super-user","is-auto-update-possible","is-plugins-admin-enabled","has-license-key","paid-plugins-to-install-at-once","install-nonce"]),Object(i["createVNode"])(s,{"is-plugin-upload-enabled":e.isPluginUploadEnabled,"upload-limit":e.uploadLimit,"install-nonce":e.installNonce},null,8,["is-plugin-upload-enabled","upload-limit","install-nonce"]),Object(i["createVNode"])(u,{"plugin-type-options":e.pluginTypeOptions,"default-sort":e.defaultSort,"plugin-sort-options":e.pluginSortOptions,"num-available-plugins-by-type":e.numAvailablePluginsByType,"is-auto-update-possible":e.isAutoUpdatePossible,"is-super-user":e.isSuperUser,"is-multi-server-environment":e.isMultiServerEnvironment,"is-plugins-admin-enabled":e.isPluginsAdminEnabled,"is-valid-consumer":e.isValidConsumer,"deactivate-nonce":e.deactivateNonce,"activate-nonce":e.activateNonce,"install-nonce":e.installNonce,"update-nonce":e.updateNonce},null,8,["plugin-type-options","default-sort","plugin-sort-options","num-available-plugins-by-type","is-auto-update-possible","is-super-user","is-multi-server-environment","is-plugins-admin-enabled","is-valid-consumer","deactivate-nonce","activate-nonce","install-nonce","update-nonce"])],512)),[[d]])}var wn=Object(i["defineComponent"])({props:{inReportingMenu:Boolean,isValidConsumer:Boolean,isSuperUser:Boolean,isAutoUpdatePossible:Boolean,isPluginsAdminEnabled:Boolean,isMultiServerEnvironment:Boolean,hasLicenseKey:Boolean,paidPluginsToInstallAtOnce:{type:Array,required:!0},installNonce:{type:String,required:!0},activateNonce:{type:String,required:!0},deactivateNonce:{type:String,required:!0},updateNonce:{type:String,required:!0},isPluginUploadEnabled:Boolean,uploadLimit:[String,Number],pluginTypeOptions:{type:Object,required:!0},defaultSort:{type:String,required:!0},pluginSortOptions:{type:Object,required:!0},numAvailablePluginsByType:{type:Object,required:!0}},components:{EnrichedHeadline:b["EnrichedHeadline"],UploadPluginDialog:O["UploadPluginDialog"],LicenseKey:ft,Marketplace:Ge},directives:{ContentIntro:b["ContentIntro"],PluginName:O["PluginName"]},mounted:function(){if(this.$refs.noticeRemoveMarketplaceFromMenu){var e=this.$refs.noticeRemoveMarketplaceFromMenu.querySelector("[matomo-plugin-name]");O["PluginName"].mounted(e,{dir:{},instance:null,modifiers:{},oldValue:null,value:{pluginName:"WhiteLabel"}})}},beforeUnmount:function(){if(this.$refs.noticeRemoveMarketplaceFromMenu){var e=this.$refs.noticeRemoveMarketplaceFromMenu.querySelector("[matomo-plugin-name]");O["PluginName"].unmounted(e,{dir:{},instance:null,modifiers:{},oldValue:null,value:{pluginName:"WhiteLabel"}})}},computed:{installingNewThemeText:function(){return Object(b["translate"])("Marketplace_InstallingNewThemesViaMarketplaceOrUpload",'<a href="#" class="uploadPlugin">',"</a>")},installingNewPluginText:function(){return Object(b["translate"])("Marketplace_InstallingNewPluginsViaMarketplaceOrUpload",'<a href="#" class="uploadPlugin">',"</a>")},noticeRemoveMarketplaceFromMenuText:function(){return Object(b["translate"])("Marketplace_NoticeRemoveMarketplaceFromReportingMenu",'<a href="#" matomo-plugin-name="WhiteLabel">',"</a>")},showThemes:function(){return"themes"===b["MatomoUrl"].hashParsed.value.pluginType},restrictedMessage:function(){return this.showThemes?Object(b["translate"])("Marketplace_NotAllowedToBrowseMarketplaceThemes"):Object(b["translate"])("Marketplace_NotAllowedToBrowseMarketplacePlugins")}}});wn.render=Pn;var Cn=wn,Ln={key:0},Un=["href"],_n=Object(i["createElementVNode"])("br",null,null,-1),xn=Object(i["createElementVNode"])("br",null,null,-1),Dn=["innerHTML"],An=Object(i["createElementVNode"])("br",null,null,-1),qn={class:"subscriptionName"},Fn=["href"],Kn={key:1},In={class:"subscriptionType"},Rn=["title"],Hn={key:0,class:"icon-error"},$n={key:1,class:"icon-warning"},Gn={key:2,class:"icon-ok"},zn=["title"],Qn=Object(i["createElementVNode"])("span",{class:"icon-error"},null,-1),Wn={key:0},Jn={colspan:"6"},Yn={class:"tableActionBar"},Xn=["href"],Zn=Object(i["createElementVNode"])("span",{class:"icon-table"},null,-1),ea={key:1},ta=["innerHTML"];function na(e,t,n,a,l,o){var r=Object(i["resolveComponent"])("ContentBlock"),c=Object(i["resolveDirective"])("content-table");return Object(i["openBlock"])(),Object(i["createBlock"])(r,{"content-title":e.translate("Marketplace_OverviewPluginSubscriptions"),class:"subscriptionOverview"},{default:Object(i["withCtx"])((function(){return[e.hasLicenseKey?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ln,[Object(i["createElementVNode"])("p",null,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate("Marketplace_PluginSubscriptionsList"))+" ",1),e.loginUrl?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:0,target:"_blank",rel:"noreferrer noopener",href:e.loginUrl},Object(i["toDisplayString"])(e.translate("Marketplace_OverviewPluginSubscriptionsAllDetails")),9,Un)):Object(i["createCommentVNode"])("",!0),_n,Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.translate("Marketplace_OverviewPluginSubscriptionsMissingInfo"))+" ",1),xn,Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.translate("Marketplace_NoValidSubscriptionNoUpdates"))+" ",1),Object(i["createElementVNode"])("span",{innerHTML:e.$sanitize(e.translate("Marketplace_CurrentNumPiwikUsers","<strong>".concat(e.numUsers,"</strong>")))},null,8,Dn)]),An,Object(i["withDirectives"])(Object(i["createElementVNode"])("table",null,[Object(i["createElementVNode"])("thead",null,[Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.translate("General_Name")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.translate("Marketplace_SubscriptionType")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.translate("CorePluginsAdmin_Status")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.translate("Marketplace_SubscriptionStartDate")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.translate("Marketplace_SubscriptionEndDate")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.translate("Marketplace_SubscriptionNextPaymentDate")),1)])]),Object(i["createElementVNode"])("tbody",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.subscriptions||[],(function(t,n){return Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",{key:n},[Object(i["createElementVNode"])("td",qn,[t.plugin.htmlUrl?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:0,href:t.plugin.htmlUrl,rel:"noreferrer noopener",target:"_blank"},Object(i["toDisplayString"])(t.plugin.displayName),9,Fn)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Kn,Object(i["toDisplayString"])(t.plugin.displayName),1))]),Object(i["createElementVNode"])("td",In,Object(i["toDisplayString"])(t.productType),1),Object(i["createElementVNode"])("td",{class:"subscriptionStatus",title:e.getSubscriptionStatusTitle(t)},[t.isValid?t.isExpiredSoon?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",$n)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Gn)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Hn)),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(t.status)+" ",1),t.isExceeded?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:3,class:"errorMessage",title:e.translate("Marketplace_LicenseExceededPossibleCause")},[Qn,Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.translate("Marketplace_Exceeded")),1)],8,zn)):Object(i["createCommentVNode"])("",!0)],8,Rn),Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(t.start),1),Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(t.isValid&&t.nextPayment?e.translate("Marketplace_LicenseRenewsNextPaymentDate"):t.end),1),Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(t.nextPayment),1)])})),128)),e.subscriptions.length?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Wn,[Object(i["createElementVNode"])("td",Jn,Object(i["toDisplayString"])(e.translate("Marketplace_NoSubscriptionsFound")),1)]))])],512),[[c]]),Object(i["createElementVNode"])("div",Yn,[Object(i["createElementVNode"])("a",{href:e.marketplaceOverviewLink,class:""},[Zn,Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.translate("Marketplace_BrowseMarketplace")),1)],8,Xn)])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ea,[Object(i["createElementVNode"])("p",{innerHTML:e.$sanitize(e.missingLicenseText)},null,8,ta)]))]})),_:1},8,["content-title"])}var aa=Object(i["defineComponent"])({props:{loginUrl:{type:String,required:!0},numUsers:{type:Number,required:!0},hasLicenseKey:Boolean,subscriptions:{type:Array,required:!0}},components:{ContentBlock:b["ContentBlock"]},directives:{ContentTable:b["ContentTable"]},methods:{getSubscriptionStatusTitle:function(e){return e.isValid?e.isExpiredSoon?Object(b["translate"])("Marketplace_SubscriptionExpiresSoon"):void 0:Object(b["translate"])("Marketplace_SubscriptionInvalid")}},computed:{marketplaceOverviewLink:function(){return"?".concat(b["MatomoUrl"].stringify({module:"Marketplace",action:"overview"}))},missingLicenseText:function(){return Object(b["translate"])("Marketplace_OverviewPluginSubscriptionsMissingLicense",'<a href="'.concat(this.marketplaceOverviewLink,'">'),"</a>")}}});aa.render=na;var la=aa,ia={class:"richMarketplaceMenuButton"},oa=Object(i["createElementVNode"])("hr",null,null,-1),ra={class:"intro"},ca={class:"cta"},sa=Object(i["createElementVNode"])("span",{class:"icon-marketplace"}," ",-1);function ua(e,t,n,a,l,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ia,[oa,Object(i["createElementVNode"])("p",ra,Object(i["toDisplayString"])(e.translate("Marketplace_RichMenuIntro")),1),Object(i["createElementVNode"])("p",ca,[Object(i["createElementVNode"])("a",{class:"btn btn-outline",tabindex:"5",href:"",onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(t){return e.$emit("action")}),["prevent"])),onKeyup:t[1]||(t[1]=Object(i["withKeys"])((function(t){return e.$emit("action")}),["enter"]))},[sa,Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.translate("Marketplace_Marketplace")),1)],32)])])}var da=Object(i["defineComponent"])({});da.render=ua;var pa=da;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */}})}));
//# sourceMappingURL=Marketplace.umd.min.js.map